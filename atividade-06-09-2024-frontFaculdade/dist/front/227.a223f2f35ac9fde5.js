"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[227],{8227:(T,m,o)=>{o.r(m),o.d(m,{LoginModule:()=>J});var d=o(6814),u=o(6208),i=o(480),c=o(5861),t=o(4769),n=o(95),p=o(304),h=o(8763),f=o(2814),g=o(2490),w=o(9926);let v=(()=>{class r{get email(){return this.form.get("email")}get password(){return this.form.get("password")}constructor(e,a,s,l){this.formBuilder=e,this.authService=a,this.router=s,this.toastrService=l,this.loading=!1,this.router=(0,t.f3M)(i.F0),this.form=this.formBuilder.group({email:new n.NI(null,[n.kI.email,n.kI.required]),password:new n.NI(null,[n.kI.required])})}login(){var e=this;return(0,c.Z)(function*(){try{if(!e.form.valid)return;e.loading=!0,yield e.authService.authenticate(e.email.value,e.password.value),e.loading=!1,e.router.navigateByUrl("/actions")}catch(a){e.authService.logout(),e.loading=!0,e.toastrService.error(a?.error?.message||"Erro")}})()}static#t=this.\u0275fac=function(a){return new(a||r)(t.Y36(n.qu),t.Y36(p.e),t.Y36(i.F0),t.Y36(h._W))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:13,consts:[[1,"md:tw-border","md:tw-border-grey-light-20","md:tw-p-8","tw-w-fit","md:tw-h-fit","md:tw-rounded-md","md:tw-mx-auto"],[1,"tw-h-full","md:tw-h-2/3","tw-flex","tw-flex-col",3,"formGroup"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-gap-2","tw-justify-center","tw-mb-auto","tw-my-0"],[1,"tw-flex","tw-flex-col","tw-gap-1","tw-items-center"],["src","../../../../assets/images/logo.png","alt","logo da caring guardians",1,"tw-h-auto","tw-w-1/2","tw-object-cover"],[1,"tw-font-martian","tw-text-center","tw-font-medium"],[1,"tw-text-md","tw-font-unica"],["formControlName","email",3,"name","placeholder","errors","touched"],["formControlName","password",3,"name","placeholder","errors","touched","type"],[3,"disabled","width","label","click"],[1,"tw-flex","tw-gap-2","tw-font-medium"],[1,"tw-text-sm"],[1,"tw-text-sm","tw-text-primary-40","tw-cursor-pointer",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"app-body")(1,"div",0)(2,"form",1)(3,"div",2)(4,"div",3),t._UZ(5,"img",4),t.TgZ(6,"h5",5),t._uU(7," CARING GUARDIANS "),t.qZA(),t.TgZ(8,"p",6),t._uU(9,"ELDER PROTECTION"),t.qZA()(),t._UZ(10,"app-input",7)(11,"app-input",8),t.TgZ(12,"app-button",9),t.NdJ("click",function(){return s.login()}),t.qZA(),t.TgZ(13,"div",10)(14,"p",11),t._uU(15,"Possui cadastro?"),t.qZA(),t.TgZ(16,"p",12),t.NdJ("click",function(){return s.router.navigateByUrl("/register-user")}),t._uU(17," Cadastre-se "),t.qZA()()()()()()),2&a&&(t.xp6(2),t.Q6J("formGroup",s.form),t.xp6(8),t.Q6J("name","email")("placeholder","email@example.com")("errors",s.email.errors)("touched",s.email.touched),t.xp6(1),t.Q6J("name","password")("placeholder","senhaSecreta")("errors",s.password.errors)("touched",s.password.touched)("type","password"),t.xp6(1),t.Q6J("disabled",s.loading)("width","tw-w-full")("label","Entrar"))},dependencies:[n._Y,n.JJ,n.JL,n.sg,n.u,f.O,g.r,w.a]})}return r})();var y=o(9862);const Z=[{path:"",component:v}];let C=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(Z),y.JF,i.Bz]})}return r})(),J=(()=>{class r{static#t=this.\u0275fac=function(a){return new(a||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[d.ez,u.m,C]})}return r})()}}]);