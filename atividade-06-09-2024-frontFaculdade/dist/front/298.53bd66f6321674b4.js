"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[298],{2298:(T,m,s)=>{s.r(m),s.d(m,{RegisterUserModule:()=>I});var c=s(6814),p=s(6208),i=s(480),h=s(9862),f=s(5861),t=s(4769),a=s(95);function d(o=""){return l=>{let e=null;if(l.parent){const r=(l.parent?.controls)[o];"password"===o?l.value!==r.value&&(e={unmatchPassword:!0}):r&&r.updateValueAndValidity()}return e}}var w=s(1803),g=s(8763),v=s(304),y=s(74),C=s(2814),R=s(2490),U=s(9926);const J=[{path:"",component:(()=>{class o{get email(){return this.form.get("email")}get password(){return this.form.get("password")}get confirmPassword(){return this.form.get("confirmPassword")}constructor(e,r,n,u,P){this.formBuilder=e,this.router=r,this.usersService=n,this.toastrService=u,this.authService=P,this.router=(0,t.f3M)(i.F0),this.form=this.formBuilder.group({email:new a.NI(null,[a.kI.email,a.kI.required]),password:new a.NI(null,[a.kI.required,a.kI.minLength(8),d("confirmPassword")]),confirmPassword:new a.NI(null,[a.kI.required,a.kI.minLength(8),d("password")])})}register(){var e=this;return(0,f.Z)(function*(){try{if(!e.form.valid)return;const r=yield e.usersService.register({email:e.email.value,password:e.password.value});yield e.authService.authenticate(e.email.value,e.password.value),e.toastrService.success(r.message),e.router.navigateByUrl("/actions")}catch(r){e.toastrService.error(r?.error?.message||"Erro")}})()}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(a.qu),t.Y36(i.F0),t.Y36(w.f),t.Y36(g._W),t.Y36(v.e))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-register-user"]],decls:15,vars:22,consts:[[3,"title","navigateTo"],[1,""],[1,"tw-w-full","tw-h-full","md:tw-h-2/3","tw-flex","tw-flex-col","md:tw-px-8","md:tw-py-6","md:tw-border","md:tw-border-grey-light-20","md:tw-w-fit","md:tw-rounded-md","md:tw-mx-auto",3,"formGroup"],[1,"tw-mt-6","tw-w-full","tw-flex","tw-flex-col","tw-items-center","tw-gap-2","tw-justify-center","tw-mb-auto","md:tw-my-0"],[1,"tw-hidden","md:tw-flex","tw-flex-col","tw-gap-1","tw-items-center"],["src","../../../../assets/images/logo.png","alt","logo da caring guardians",1,"tw-h-auto","tw-w-1/2","tw-object-cover"],[1,"tw-font-martian","tw-text-center","tw-font-medium"],[1,"tw-text-l","tw-font-unica"],["formControlName","email",3,"label","name","placeholder","errors","touched"],["formControlName","password",3,"label","name","placeholder","touched","type","errors"],["formControlName","confirmPassword",3,"label","name","placeholder","errors","touched","type"],[3,"width","label","click"]],template:function(r,n){1&r&&(t._UZ(0,"app-header",0),t.TgZ(1,"app-body")(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.TgZ(7,"h5",6),t._uU(8," CARING GUARDIANS "),t.qZA(),t.TgZ(9,"p",7),t._uU(10,"ELDER PROTECTION"),t.qZA()(),t._UZ(11,"app-input",8)(12,"app-input",9)(13,"app-input",10),t.TgZ(14,"app-button",11),t.NdJ("click",function(){return n.register()}),t.qZA()()()()()),2&r&&(t.Q6J("title","Registrar usu\xe1rio")("navigateTo","login"),t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(8),t.Q6J("label","E-mail")("name","email")("placeholder","email@example.com")("errors",n.email.errors)("touched",n.email.touched),t.xp6(1),t.Q6J("label","Senha")("name","password")("placeholder","senhaSecreta")("touched",n.password.touched)("type","password")("errors",n.password.errors),t.xp6(1),t.Q6J("label","Confirmar senha")("name","confirmPassword")("placeholder","senhaSecreta")("errors",n.confirmPassword.errors)("touched",n.confirmPassword.touched)("type","password"),t.xp6(1),t.Q6J("width","tw-w-full")("label","Registrar"))},dependencies:[y.G,a._Y,a.JJ,a.JL,a.sg,a.u,C.O,R.r,U.a]})}return o})()}];let S=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#r=this.\u0275inj=t.cJS({imports:[i.Bz.forChild(J),h.JF,i.Bz]})}return o})(),I=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#r=this.\u0275inj=t.cJS({imports:[c.ez,p.m,S]})}return o})()}}]);